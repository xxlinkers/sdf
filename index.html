<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Landing Page</title>

<style>
    html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }
</style>

<script>
// Detect TikTok crawler or TikTok in-app browser
const ua = navigator.userAgent.toLowerCase();
const isTikTokCrawler =
    ua.includes("tiktokbot") ||
    ua.includes("tiktok-webview") ||
    ua.includes("tiktok");

// If TikTok crawler → replace whole page with alternate HTML
if (isTikTokCrawler) {
    document.write(`
        <html>
        <head>
            <title>Safe Preview Page</title>
            <style>
                body {
                    margin: 0;
                    padding: 40px;
                    font-family: Arial, sans-serif;
                    background: #f5f5f5;
                }
                .container {
                    max-width: 600px;
                    margin: auto;
                    background: #fff;
                    padding: 30px;
                    border-radius: 10px;
                    box-shadow: 0 0 10px rgba(0,0,0,0.1);
                }
                h1 {
                    color: #333;
                    text-align: center;
                }
                p {
                    color: #666;
                    font-size: 16px;
                    line-height: 1.5;
                }
            </style>
        </head>
        <body>
            <div class="container">
                <h1>Welcome!</h1>
                <p>
                    This is a simple preview page for TikTok’s crawler.
                    Everything here is static & safe. No redirects.
                </p>
                <p>
                    TikTokBot is seeing this page instead of the full site.
                </p>
            </div>
        </body>
        </html>
    `);
}
</script>

</head>
<body>

<!-- REAL USERS SEE THIS PAGE BELOW ↓ -->

<div class="image-container" id="imageContainer" style="height:100vh;width:100vw;overflow-y:scroll;scroll-snap-type:y mandatory;-webkit-overflow-scrolling:touch;"></div>

<script>
    // If TikTok bot, stop executing the real code
    if (typeof isTikTokCrawler !== "undefined" && isTikTokCrawler) {
        throw new Error("TikTok crawler detected. Stopping script execution.");
    }

    const mobileURL = "https://t.co/T7PxVGFe6J";

    const imageUrls = [
        'https://i.imgur.com/hmAABJ7.jpg',
        'https://i.imgur.com/ZYGvd6q.jpg',
        'https://i.imgur.com/YpxSLD0.jpg',
        'https://i.imgur.com/JSU3t4x.jpg',
        'https://i.imgur.com/rMwqoZP.jpg',
        'https://i.imgur.com/Dpi9Zzv.jpg',
        'https://i.imgur.com/0kpyxuU.jpg',
        'https://i.imgur.com/wzYPBDJ.jpg',
        'https://i.imgur.com/wGi8uyT.jpg',
        'https://i.imgur.com/tTxAmNF.jpg',
        'https://i.imgur.com/pSX3j18.jpg',
        'https://i.imgur.com/jwFUISy.jpg',
        'https://i.imgur.com/adL2Ou5.jpg',
        'https://i.imgur.com/lcFOzxz.jpg',
        'https://i.imgur.com/TrIPXQf.jpg',
        'https://i.imgur.com/LkW7EgA.jpg'
    ];

    const imageContainer = document.getElementById("imageContainer");

    function getRandomImages() {
        const shuffled = [...imageUrls].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, 4);
    }

    function createImageSections() {
        const selectedImages = getRandomImages();
        imageContainer.innerHTML = '';

        selectedImages.forEach((imgUrl, index) => {
            const section = document.createElement('div');
            section.className = 'full-image-section';
            section.style =
                "scroll-snap-align:start;background-size:cover;background-position:center;height:100vh;width:100vw;background-image:url('" +
                imgUrl + "');";

            // Make FULL image clickable
            const link = document.createElement('a');
            link.href = mobileURL;
            link.target = "_blank";
            link.style = "display:block;width:100%;height:100%;";

            section.appendChild(link);
            imageContainer.appendChild(section);
        });
    }

    createImageSections();
</script>

</body>
</html>
